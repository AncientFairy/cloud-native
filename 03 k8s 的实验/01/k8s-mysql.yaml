apiVersion: v1
kind: Pod
metadata:
  name: mysql-pod
  namespace: default
  labels:
    app: mysql-pod
spec:
  containers:
  - name: mysql-pod
    image: mysql:5.7
    resources: # 资源限制
      limits:
        cpu: 200m
        memory: 500Mi
      requests:
        cpu: 100m
        memory: 200Mi
    env: # 环境变量 相当于 docker run -e  xxx = xxx
    - name: MYSQL_ROOT_PASSWORD # root 的密码
      value: "123456"
    - name:  MYSQL_DATABASE # mysql 的 数据库
      value: ssm
    ports:
    - containerPort:  3306
      name:  http
    command: # 直接覆盖容器的默认命令，相当于覆盖 Dockerfile 中的 ENTRYPOINT 和 CMD
     - --lower_case_table_names=1
     - --character-set-server=utf8mb4 
     - --collation-server=utf8mb4_general_ci 
     - --default-authentication-plugin=mysql_native_password  
  restartPolicy: Always